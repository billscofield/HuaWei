
USB 是 Universal Serial Bus 的缩写，中文译为通用串行总线。

USB出现之前，计算机领域中的接口太多太繁杂,总的来说，在USB出现之前，各种接口太多，而且都不太容易使用，互相之间的兼容性也较差，因此，才出现了USB。

USB是一种数据通信方式，也是一种数据总线，而且是最复杂的总线之一。 

硬件上，它是用插头连接。一边是公头（plug），一边是母头（receptacle）。例如，PC上的插座就是母头，USB设备使用公头与PC连接。 

原来诺基亚功能机时代的接口为Mini USB；目前Android手机使用的Micro USB


Host
USB是由Host端控制整个总线的数据传输的。单个USB总线上，只能有一个Host。


OTG 
On The Go，这是在USB2.0引入的一种mode，提出了一个新的概念叫主机协商协议（Host Negotiation Protocol），允许两个设备间商量谁去当Host。


Linux那些事儿
https://blog.csdn.net/fudan_abc/article/category/335670/2?

---

USB出现的最初的目的，根据USB规范中的解释
    1. 计算机领域和通讯领域却是各自为政的发展，没有考虑互联性。由此，USB的出现，就是为了解决这一类互联问题的
    1. 方便用户使用,不用去配置参数，即插即用
    1. 支持众多的应用，都使用统一的USB的接口，方便了用户，不需要再搞懂各种接口的用途和差异。

USB的出现，是希望通过此单个的USB接口，同时支持多种不同的应用，而且用户用起来也很方便，直接插上就能用了，也方便不同的设备的之间的互联。

说白了，就相当于在之前众多的接口之上，设计出一个USB这么个万能的接口，以后各种外设，都可以用这一种接口即可。

这估计也是USB的名称中的Universal通用的这一个词的来历吧

OTG引入了一个新的概念，HNP（Host Negotiation Protocol），主机协商协议，允许两个设备之间互相协商谁去当Host。不过，即使在OTG中，也只是同一时刻，只存在单个的Host，而不允许存在多个Host的。

USB总线中，最多可连接127个设备。



---
USB协议是严格的主从协议，通讯过程中规定通讯双方必须有一个做Host（比如PC），一个做Device（比如U盘）。但是有些设备可能会希望同时具有两种身份，在某个时刻做Host，另外一个时刻做Device，于是USB IF官方制定了OTG协议，规定两个都支持OTG协议的USB设备可以动态地根据需要进行主从切换。但是真正支持OTG协议的设备并没有流行起来，原因应该有如下： 
    1. OTG协议实现要复杂些，而实际应用需求不强，市面上真正支持OTG协议的设备也很难找到，单方面支持OTG协议是没有用的，因此各大厂商没有动力推出OTG设备。 
    1. USB协议规定Host要给Device供电，而大部分USB设备都是便携设备，对另外一个USB设备供电能力不足。 

既然真正支持OTG协议的设备几乎难觅，那么为什么目前市面上很多的音视频播放器或平板电脑都号称支持OTG呢？其实这些设备并没有真正实现OTG协议（包括HNP协议和SRP协议），而只是通过USB线上ID Pin的状态来确立自己究竟是做主设备还是做从设备，一旦身份确认，在通讯过程中是无法动态切换的，所以严格来说这只是一种伪OTG设备。本文将讨论的就是Linux下这种情况的一种具体实现方法。 


https://www.xzbu.com/9/view-5681574.htm

---
