
## 系统日志

/var/log

/run

一般是二进制文件，需要专门的软件

### w

The  following entries are displayed for each user: 

    login name, the tty name, the remote host, login time, idle time, JCPU, PCPU, and the command line of their current process.
                                                login@

The JCPU time is the time used by all processes attached to the tty.  It does not include past  background
jobs, but does include currently running background jobs.

The PCPU time is the time used by the current process, named in the "what" field.


### who

### last

用户名  终端位置      登录IP(0.0表示本地) 开始时间      结束时间    持续时间

root     pts/0        192.168.200.254  Sat Aug 29 17:00   still logged in
root     pts/1        192.168.200.254  Wed Aug 26 22:31 - 12:45 (1+14:13)

/var/log/wtmp


1. utmp

    The “u” in utmp stands for user as it logs information regarding “who”
    logged onto the system. This log also shows the terminals’ location through
    which the system was logged in. It is a binary file which manages the users
    logged into the system and records all the accounts such as the current
    status of the system, managing and logging users’ logins, logouts,
    terminals of logins, etc. These files are not simple text files but they
    are in a binary form and are usually stored at /var/run/utmp.

2. wtpm

    The “w” in wtmp stands for “who”, meaning it tells us who the user is and
    “when” the user logged in and logged out; it is all the history of the user
    of utmp. The history is found at /var/log/wtmp and it shows all the past
    recorded data of logins and logouts. As wtmp records all the logged in and
    logged-out data of the user, it can be said that it preserves or maintains
    all the actions and commands of utmp. Its command is “w” which
    fundamentally shows the user’s login details and history.

### lastlog

所有用户最后一次


### lastb   (bad)

/var/log/btmp

The “b” in btmp is for “bad” as it registers all the bad, failed, or error
login attempts. It is similar to the wtmp file as it records and maintains the
failed or bad login attempts and is located in the /var/log/btmp.  As it
records the failed attempts at logins, it can be also used for security
purposes. The btmp file is based in /var/log/btmp and it is generated
automatically as soon as the system starts up. Sudo privileges are required to
access the file and the “lastb” command is to read the files.


last  searches  back through the /var/log/wtmp file (or the file designated by the -f option) and displays a list of all
users logged in (and out) since that file was created.  One or more usernames and/or ttys can be given,  in  which  case
last  will show only the entries matching those arguments.  Names of ttys can be abbreviated, thus last 0 is the same as
last tty0.

When catching a SIGINT signal (generated by the interrupt key, usually control-C) or a SIGQUIT signal,  last  will  show
how far it has searched through the file; in the case of the SIGINT signal last will then terminate.

The  pseudo  user  reboot logs in each time the system is rebooted.  Thus last reboot will show a log of all the reboots
since the log file was created.

lastb is the same as last, except that by default it shows a log of the /var/log/btmp file, which contains all  the  bad
login attempts.


### 日志切割
